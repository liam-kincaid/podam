<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 29-07-2023 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Podam - Welcome to Jemos PODAM (POjo DAta Mocker)</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Marco Tedone" />
    <meta name="Date-Revision-yyyymmdd" content="20230729" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                podam
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="projectVersion">Version: 8.0.0.RELEASE</span>
              </div>
            <div class="xright">                    <a href="https://github.com/mtedone/podam" class="externalLink" target="_blank" title="Podam @ GitHub">Podam @ GitHub</a>
            |
                        <a href="http://groups.google.com/group/podam" class="externalLink" target="_blank" title="PODAM Google Group">PODAM Google Group</a>
            |
                        <a href="https://www.linkedin.com/in/marco-tedone-a874b0127" class="externalLink" target="_blank" title="LinkedIn profile">LinkedIn profile</a>
            |
                        <a href="https://twitter.com/#!/marcotedone" class="externalLink" target="_blank" title="Follow Me on Twitter">Follow Me on Twitter</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Getting Started</h5>
                  <ul>
                  <li class="none">
            <strong>Home</strong>
          </li>
                  <li class="none">
                          <a href="downloads.html" title="Downloads">Downloads</a>
            </li>
                  <li class="none">
                          <a href="usage.html" title="Usage">Usage</a>
            </li>
                  <li class="none">
                          <a href="how-to-contribute.html" title="How to contribute">How to contribute</a>
            </li>
                  <li class="none">
                          <a href="sponsors/sponsors.html" title="Sponsors">Sponsors</a>
            </li>
          </ul>
                       <h5>Technical Reference</h5>
                  <ul>
                  <li class="none">
                          <a href="uml/architecture.html" title="Architecture">Architecture</a>
            </li>
                  <li class="none">
                          <a href="annotations.html" title="Custom Annotations">Custom Annotations</a>
            </li>
                  <li class="none">
                          <a href="validation-api.html" title="Bean Validation Support">Bean Validation Support</a>
            </li>
                  <li class="none">
                          <a href="walk-through-example.html" title="A Walk-through example">A Walk-through example</a>
            </li>
                  <li class="none">
                          <a href="corner-cases.html" title="Corner Cases">Corner Cases</a>
            </li>
                  <li class="none">
                          <a href="faqs.html" title="FAQS">FAQS</a>
            </li>
                  <li class="none">
                          <a href="serenity/index.html" title="Serenity BDD Reports">Serenity BDD Reports</a>
            </li>
                  <li class="none">
                          <a href="release-notes/release-notes.html" title="Release Notes">Release Notes</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                              <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                                                                                                                                     <a href="http://www.jemos.co.uk/projects/podam/index.html" title="Jemos" class="poweredBy">
        <img class="poweredBy"  alt="Jemos Podam" src="images/logo.gif"     />
      </a>
                       
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2>Introduction<a name="Introduction"></a></h2>
<p>PODAM is a lightweight tool to auto-fill Java POJOs with data. This comes handy when developing unit tests. Thanks to PODAM users now have a one-liner that does all the work them.</p>
<div class="section">
<h3>PODAM main features:<a name="PODAM_main_features:"></a></h3>
<ul>
<li>Automatic introspection of your POJOs to fill all possible attributes with random data. You can customise this behaviour.</li>
<li>Extension points to customise the data strategy, fields exclusions based on names or annotations</li>
<li>Support for your custom annotations to either provide data or exclude fields</li>
<li>The option to select minimal constructors (for lightweight POJOs) or full constructors</li>
<li>Support for Java types, enumerations, arrays, collections (lists, sets, maps)</li>
<li>Support for generics</li>
<li>Support for your own factories when PODAM cannot introspect enough information to generate a type (e.g. XMLGregorianCalendar)</li>
<li>Support for arbitrary method executions when the normal lifecycle has ended</li></ul></div>
<div class="section">
<h3>Using PODAM in your project<a name="Using_PODAM_in_your_project"></a></h3>
<p>To see how you add PODAM to your project, please refer to <a href="./usage.html"> the usage page</a>.</p></div>
<div class="section">
<h3>How to use PODAM API <a name="How_to_use_PODAM_API"></a></h3>
<div class="source">
<pre>// Simplest scenario. Will delegate to Podam all decisions
PodamFactory factory = new PodamFactoryImpl();

// This will use constructor with minimum arguments and
// then setters to populate POJO
Pojo myPojo = factory.manufacturePojo(Pojo.class);

// This will use constructor with maximum arguments and
// then setters to populate POJO
Pojo myPojo2 = factory.manufacturePojoWithFullData(Pojo.class);

// If object instance is already available,
// Podam can fill it with random data
Pojo myPojo3 = MyFactory.getPojoInstance();
factory.populatePojo(myPojo3);
</pre></div>
<p>PODAM allows users to customise the way data are assigned in several ways: </p>
<ul>
<li>By defining a global strategy</li>
<li>By defining strategies at the attribute level</li>
<li>For primitive and wrapper types, by customising the numeric value through annotations</li>
<li>For strings by customising the string value and length through annotation</li>
<li>To skip a certain attribute by using the <i>@PodamExclude</i> annotation or by name</li>
<li>By defining a collection of methods that Podam should execute while filling POJOs</li></ul>
<div class="section">
<h4>Defining a global data provider strategy<a name="Defining_a_global_data_provider_strategy"></a></h4>
<p>The default strategy for PODAM is Random values. However users can define their own global strategy by providing an implementation of the <b>DataProviderStrategy</b> interface, as follows: </p>
<div class="source">
<pre>
DataProviderStrategy strategy = new MyDataProviderStrategy();
PodamFactory factory = new PodamFactoryImpl(strategy);

Pojo myPojo = factory.manufacturePojo(Pojo.class);

Pojo myPojo2 = factory.manufacturePojoWithFullData(Pojo.class);

</pre></div>
<p>Please note that annotations are not required to use PODAM. The tool will automatically introspect and fill your tree of POJOs out-of-the-box. The preferred way to customise the way PODAM fills your data is through a custom <i>DataProviderStrategy</i>, as shown above. However one can annotate Java classes to provide custom values, as shown below. Podam also supports your own annotations.</p></div>
<div class="section">
<h4>Defining an attribute-level strategy<a name="Defining_an_attribute-level_strategy"></a></h4>
<p>PODAM allows also users to define data strategies at the attribute level: this includes the capability to define custom strategies for elements and keys in collections, maps and arrays. In order to define an attribute-level strategy, users will need to: </p>
<ul>
<li>Provide an implementation of the <b>AttributeStrategy&lt;T&gt;</b> interface</li>
<li>Use the <b>@PodamStrategyValue</b> annotation</li></ul>
<p>Example: </p>
<div class="source">
<pre>
@PodamStrategyValue(PostCodeStrategy.class)
private String postCode;

@PodamStrategyValue(MyBirthdayStrategy.class)
private Calendar myBirthday;

</pre></div>
<p>In this example I defined two attribute-level strategies: </p>
<ul>
<li>PostCodeStrategy to create a UK-like postcode</li>
<li>MyBirthdayStrategy to create a Calendar which contains the exact time of my birth</li></ul>
<p>The <i>PostCodeStrategy</i> class looks like the following:</p>
<div class="source">
<pre>/**
 * 
 */
package uk.co.jemos.podam.test.strategies;

import uk.co.jemos.podam.api.AttributeStrategy;
import uk.co.jemos.podam.exceptions.PodamMockeryException;
import uk.co.jemos.podam.test.utils.PodamTestConstants;

/**
 * A test strategy to manufacture UK-like post codes.
 * 
 * @author mtedone
 * 
 */
public class PostCodeStrategy implements AttributeStrategy&lt;String&gt; {
        
        /**
         * It returns an English post code.
         * &lt;p&gt;
         * This is just an example. More elaborated code could the implemented by
         * this method. This is just to proof the point.
         * &lt;/p&gt;
         * 
         * {@inheritDoc}
         */
        public String getValue() throws PodamMockeryException {
                return PodamTestConstants.POST_CODE;
        }
        
}

</pre></div>
<p>There is nothing special about the above class: it's job is just to provide a value of the right type.</p>
<p>The <i>MyBirthdayStrategy</i> class looks like the following: </p>
<div class="source">
<pre>
/**
 * 
 */
package uk.co.jemos.podam.test.strategies;

import java.util.Calendar;

import uk.co.jemos.podam.api.AttributeStrategy;
import uk.co.jemos.podam.exceptions.PodamMockeryException;
import uk.co.jemos.podam.test.utils.PodamTestUtils;

/**
 * An attribute strategy which returns a Calendar object set with my DOB.
 *
 * @author mtedone
 * 
 */
public class MyBirthdayStrategy implements AttributeStrategy&lt;Calendar&gt; {

        /**
         * It returns a {@link Calendar} object set with the exact date of my
         * birthday.
         * 
         * {@inheritDoc}
         */
        public Calendar getValue() throws PodamMockeryException {

                Calendar myBirthday = PodamTestUtils.getMyBirthday();

                return myBirthday;
        }
                
}


</pre></div>
<p>The capability to customise the strategy PODAM uses to fill attribute data is extended to container-like data structures, such as Collections, Maps and Arrays; however for these data structures use the <i>@PodamCollection</i> annotation. Please refer to <a href="./annotations.html"> The annotation</a> page for more details.</p>
<p>Example on how to use PODAM custom attribute strategy to fill collection elements: </p>
<div class="source">
<pre>
@PodamCollection(nbrElements = 2, collectionElementStrategy = MyBirthdayStrategy.class)
private List&lt;Calendar&gt; myBirthdays = new ArrayList&lt;Calendar&gt;();

</pre></div>
<p>Example on how to use PODAM custom attribute strategy to fill Map keys and elements. Please note that <i>@PodamCollection</i> offers also the possibility to define a strategy to set the values for keys in a Map, through the <i>mapKeyStrategy</i> attribute: </p>
<div class="source">
<pre>
@PodamCollection(nbrElements = 2, mapElementStrategy = MyBirthdayStrategy.class)
private Map&lt;String, Calendar&gt; myBirthdaysMap = new HashMap&lt;String, Calendar&gt;();

</pre></div>
<p>Example on how to use PODAM custom attribute strategy to fill array elements:</p>
<div class="source">
<pre>
@PodamCollection(nbrElements = 2, collectionElementStrategy = MyBirthdayStrategy.class)
private Calendar[] myBirthdaysArray;

</pre></div>
<p>PODAM will use the MyBirthdayStrategy to set the value for the two array elements. </p></div>
<div class="section">
<h4>Customising PODAM behaviour for primitives and wrapper types<a name="Customising_PODAM_behaviour_for_primitives_and_wrapper_types"></a></h4>
<p>Primitive and Wrapper type values can be customised through annotations. </p>
<div class="source">
<pre>@PodamDoubleValue(minValue = PodamTestConstants.NUMBER_DOUBLE_MIN_VALUE, maxValue = PodamTestConstants.NUMBER_DOUBLE_MAX_VALUE)
private double doubleFieldWithMinAndMaxValue;
</pre></div>
<p>Please note that by contract (DataProviderStrategy) min and max values are inclusive. </p>
<p>For a full list of supported annotations, please refer to the <a href="./annotations.html"> Annotations</a> page.</p>
<p>To know more about how PODAM works, please refer to the <a href="./walk-through-example.html"> The walk-through example</a> page or to the <a href="./corner-cases.html"> Corner Cases </a> page on the left menu.</p></div>
<div class="section">
<h4>A simple example to manufacture collections<a name="A_simple_example_to_manufacture_collections"></a></h4>
<p>You can use PODAM to fill in generic collections with dummy data. </p>
<div class="source">
<pre>PodamFactory podam = new PodamFactoryImpl();

// Annotation required to remove warning because of type erasure although it would work without
@SuppressWarnings(&quot;unchecked&quot;)
List&lt;String&gt; list = podam.manufacturePojo(ArrayList.class, String.class);

</pre></div></div>
<div class="section">
<h4>Defining an attribute-level strategy with <i>DataProviderStrategy</i><a name="Defining_an_attribute-level_strategy_with_DataProviderStrategy"></a></h4>
<p>Assuming we are filling the class</p>
<div class="source">
<pre>public static class Pojo {
        private String randomString;
        private String postCode;
        private URL url;

        public String getRandomString() { return randomString; }

        public void setRandomString(String randomString) { this.randomString = randomString; }

        public String getUrl() { return url.toString(); }

        public void setUrl(String url) throws MalformedURLException { this.url = new URL(url); }

        public String getPostCode() { return postCode; }

        public void setPostCode(String postCode) { this.postCode = postCode; }
}
</pre></div>
<p>Define custom <i>TypeManufacturer</i>, which will be producing string values depending on attribute name</p>
<div class="source">
<pre>public class CustomStringManufacturer extends StringTypeManufacturerImpl() {

        @Override
        public String getType(DataProviderStrategy strategy,
                        AttributeMetadata attributeMetadata,
                        Map&lt;String, Type&gt; genericTypesArgumentsMap) {

                if (Pojo.class.isAssignableFrom(attributeMetadata.getPojoClass())) {

                        if (&quot;url&quot;.equals(attributeMetadata.getAttributeName())) {
                                return &quot;http://wikipedia.org&quot;;
                        } else if (&quot;postCode&quot;.equals(attributeMetadata.getAttributeName())) {
                                return &quot;00100&quot;;
                        }
                }
                return super.getType(strategy, attributeMetadata, genericTypesArgumentsMap);
        };
}
</pre></div>
<p>Intantiate POJO with <i>PodamFactory</i></p>
<div class="source">
<pre>CustomStringManufacturer customStringManufacturer = new CustomStringManufacturer();
PodamFactory factory = new PodamFactoryImpl();
factory.getStrategy().addOrReplaceTypeManufacturer(String.class, customStringManufacturer);
</pre></div>
<p>Result:</p>
<div class="source">
<pre>{
  &quot;randomString&quot;:&quot;rP_yOK2EtR&quot;,
  &quot;postCode&quot;:&quot;00100&quot;,
  &quot;url&quot;:&quot;http://wikipedia.org&quot;
}
</pre></div></div>
<div class="section">
<h4>Specifing factories for POJOs<a name="Specifing_factories_for_POJOs"></a></h4>
<p>DataProviderStrategy can be extended to hint Podam with factory classes to initialize POJOs.</p>
<div class="source">
<pre>RandomDataProviderStrategy strategy = (RandomDataProviderStrategy) factory.getStrategy();
strategy.addOrReplaceFactory(
        javax.xml.transform.Transformer.class,
        javax.xml.transform.TransformerFactory.class);
Transformer pojo = factory.manufacturePojo(javax.xml.transform.Transformer.class);
</pre></div></div>
<div class="section">
<h4>Manufacturing generic types<a name="Manufacturing_generic_types"></a></h4>
<p>Sometimes you may want to manufacture a generic type directly without a wrapper class or a subclass.</p>
<p>As you should have noticed, the <i>manufacturePojo</i> method of the <i>PodamFactory</i> interface can take some additional parameters through varargs. This is a way to allow the definition of the generic types for a given class.</p>
<p>The following class is an example of a generic POJO:</p>
<div class="source">
<pre>public class GenericPojo&lt;F, S&gt; {

        private F firstValue;
        private S secondValue;
        @PodamCollection(nbrElements = 2)
        private List&lt;F&gt; firstList;
        @PodamCollection(nbrElements = 2)
        private S[] secondArray;
        @PodamCollection(nbrElements = 2)
        private Map&lt;F, S&gt; firstSecondMap;
        
        ... getter, setters and toString
}
</pre></div>
<p>Now imagine that you want an instance of this class defining <i>F</i> and <i>S</i> as <i>Double</i> and <i>String</i> respectively. This is how it should be done:</p>
<div class="source">
<pre>GenericPojo pojo = factory.manufacturePojo(GenericPojo.class, Double.class, String.class);
</pre></div>
<p>As you can see, the first class is the POJO to be manufactured (<i>GenericPojo</i>), and the subsequent classes are the type parameters to be used for this <i>GenericPojo</i> instance.</p>
<p>This is the result of the call above:</p>
<div class="source">
<pre>GenericPojo [
    firstValue=0.03181392348712919,
    secondValue=L4OicBAhKY,
    firstList=[0.770082469177622, 0.7924208229673068],
    secondArray=[8EsGFHtwwE, Zqz8B_4oAr],
    firstSecondMap={0.778926356384843=sl4FxQIEYe, 0.2909259461070528=j8mlZshNsv}
]
</pre></div>
<p>It is also possible to specify some complex nested generic types like <i>GenericPojo&lt;GenericPojo&lt;String, Long</i>&gt;, <i>Map&lt;Integer, List&lt;Boolean</i>&gt;&gt;&gt; using the <i>uk.co.jemos.podam.api.PodamParameterizedType</i> class as in the following example:</p>
<div class="source">
<pre>ParameterizedType stringLongGenericPojoType =
                new PodamParameterizedType(GenericPojo.class, String.class, Long.class);

ParameterizedType IntegerBooleanListMapType =
                new PodamParameterizedType(Map.class,
                                Integer.class,
                                new PodamParameterizedType(List.class, Boolean.class));

GenericPojo&lt;GenericPojo&lt;String, Long&gt;, Map&lt;Integer, List&lt;Boolean&gt;&gt;&gt; pojo =
                factory.manufacturePojo(GenericPojo.class, stringLongGenericPojoType, IntegerBooleanListMapType);
</pre></div>
<p>Running the code above the following result is produced:</p>
<div class="source">
<pre>GenericPojo [
    firstValue=GenericPojo [
        firstValue=e0NI7ZnKfW,
        secondValue=1340165351073,
        firstList=[2UlUwNJdOS, bZ7X0KZWtV],
        secondArray=[1340165351073, 1340165351073],
        firstSecondMap={QiB36seL99=1340165351072, Dk_KwHCGOq=1340165351072}
    ],
    secondValue={2081811337=[true]},
    firstList=[
        GenericPojo [
            firstValue=ECNfFuF6WM,
            secondValue=1340165351067,
            firstList=[QfZXnqOk1N, HDAGfxdat0],
            secondArray=[1340165351067, 1340165351067],
            firstSecondMap={UgJ4VNvro_=1340165351067, 5NGtW0hH0h=1340165351067}
        ],
        GenericPojo [
            firstValue=kHryFVavEn,
            secondValue=1340165351070,
            firstList=[wAKe40d3zO, OH8q03P9Cw],
            secondArray=[1340165351070, 1340165351070],
            firstSecondMap={LhRoWR2DNX=1340165351068, zg0IAN4ZZ5=1340165351068}
        ]
    ],
    secondArray=[{2115657799=[true, true], -1507554610=[true, true]}, {1990372468=[true, true], -340173617=[true, true]}],
    firstSecondMap={
        GenericPojo [
            firstValue=WeEDkbr2pc,
            secondValue=1340165351058,
            firstList=[0TRSKWur8n, vbIptzObXA],
            secondArray=[1340165351057, 1340165351057],
            firstSecondMap={49wLsEiuip=1340165351056, LGIUi7CptX=1340165351056}
        ] = {1126207473=[true, true], -1973087621=[true, true]},
        GenericPojo [
            firstValue=2RtNOrjgjZ,
            secondValue=1340165351064,
            firstList=[l1S7URCgFT, ntoKQnI1Kj],
            secondArray=[1340165351064, 1340165351064],
            firstSecondMap={F0gqzGJMZL=1340165351061, vXdlU9NCfR=1340165351061}
        ] = {-485029362=[true, true], 609129754=[true, true]}
    }
]
</pre></div></div>
<div class="section">
<h4>Tweaking PODAM for performance<a name="Tweaking_PODAM_for_performance"></a></h4>
<p>Building huge graphs of nested objects may take time. Podam has a memoization option to help it. When enabled, Podam will only create a unique object for each class and reuse it. This reduces algorithmic complexity in scenarios where distinct random data is not needed. To disable memoization, you can do the following:</p>
<div class="source">
<pre>PodamFactory podam = new PodamFactoryImpl();
podam.getStrategy().setMemoizationEnabled(false);
</pre></div></div>
<div class="section">
<h4>Executing arbitrary methods after POJO instantiation<a name="Executing_arbitrary_methods_after_POJO_instantiation"></a></h4>
<p>Class info strategy can be instructed to execute arbitrary methods after POJO creation and hydation.</p>
<p>For example, the class</p>
<div class="source">
<pre>public class MyPojo {

    private String strValue;
    private Integer intValue;

    public void init(String strValue, Integer intValue) {
        this.strValue = strValue;
        this.intValue = intValue;
    }
}
</pre></div>
<p>One needs to specify POJO class, method name and list of method parameter types.</p>
<div class="source">
<pre>DefaultClassInfoStrategy classInfoStrategy = DefaultClassInfoStrategy.getInstance();
classInfoStrategy.addExtraMethod(MyPojo.class, &quot;init&quot;, String.class, Integer.class);
</pre></div>
<p>Then instantiation will look like:</p>
<div class="source">
<pre>PodamFactory podam = new PodamFactoryImpl();
Pojo myPojo = factory.manufacturePojo(Pojo.class);
</pre></div>
<p>PODAM will use values provided by <i>DataProviderStrategy</i> as parameters to call the methods.</p></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2023.
          All Rights Reserved.      
                    
                 <span id="publishDate">Last Published: 29-07-2023</span>
                        </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
